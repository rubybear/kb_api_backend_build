<!-- app/templates/form.html -->
<form method="put" action="/exercise/{{ exercise_id }}">
  <div class="row">
    <div class="input-field col s12">
      <input id="name" name="name" type="text" class="validate">
      <label for="name">Exercise Name</label>
    </div>
  </div>
  <div id="exercise-sets">
    <div class="row">
      <div class="input-field col s4">
        <input id="set_number_1" name="exercise_set[0].set_number" type="number" value="1" class="validate">
        <label for="set_number_1" id="set_number_label_1">Set Number</label>
      </div>
      <div class="input-field col s4">
        <input id="reps_1" name="exercise_set[0].reps" type="number" class="validate">
        <label for="reps_1">Reps</label>
      </div>
      <div class="input-field col s4">
        <input id="weight_1" name="exercise_set[0].weight" type="number" class="validate">
        <label for="weight_1">Weight</label>
      </div>
    </div>
  </div>
  <button type="button" onclick="addExerciseSet()" class="btn waves-effect waves-light">Add Exercise Set</button>
  <button type="submit" class="btn waves-effect waves-light">Submit</button>
</form>


<!-- Include the Materialize CSS file in the head of your HTML file -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

<!-- Include the Materialize JavaScript file at the end of your HTML file -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<script>
  let setNumber = 1;
  function addExerciseSet() {
    setNumber++;
    let exerciseSetsDiv = document.getElementById("exercise-sets");
    let row = document.createElement("div");
    row.classList.add("row");
    row.innerHTML = `
      <div class="input-field col s4">
        <input id="set_number_${setNumber}" name="exercise_set[${setNumber - 1}].set_number" type="number" value="${setNumber}" class="validate">
        <label for="set_number_${setNumber}" id="set_number_label_${setNumber}">Set Number</label>
      </div>
      <div class="input-field col s4">
        <input id="reps_${setNumber}" name="exercise_set[${setNumber - 1}].reps" type="number" class="validate">
        <label for="reps_${setNumber}">Reps</label>
      </div>
      <div class="input-field col s4">
        <input id="weight_${setNumber}" name="exercise_set[${setNumber - 1}].weight" type="number" class="validate">
        <label for="weight_${setNumber}">Weight</label>
      </div>
    `;
    exerciseSetsDiv.appendChild(row);
    // Update the label of the set number field
    document.getElementById(`set_number_label_${setNumber}`).innerHTML = `Set Number ${setNumber}`;
  }

</script>



